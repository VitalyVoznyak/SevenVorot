"use strict";!function(t){var n;t.FormAdd||(t.FormAdd=function(t){this.options=$.extend({},t),this.onEvent=t.onEvent?t.onEvent:function(t){},(n=this).init()},t.FormAdd.prototype.init=function(){return this.$form=$('form[name="'+n.options.FORM_NAME+'"]'),this.$form.find('input[type="text"]').on("keyup",(function(t){if($(this).val().length<3)return!0;t.preventDefault(),t.stopImmediatePropagation();var e=new FormData($(this).closest("form")[0]);e.append("IBLOCK_ID",n.options.IBLOCK_ID),e.append("COUNT_RESULT",n.options.COUNT_RESULT);try{n.sendData(e)}catch(t){console.log(t.name,t.message+"\n"+t.stack)}return!1})),this.$form.find('input[type="text"]').on("blur",(function(t){$("."+n.options.RESULT_CLASS).html("")})),!1},t.FormAdd.prototype.sendData=function(t){let e;e&&e.abort(),e=$.ajax({url:this.options.COMPONENT_PATH+"/ajax.php",type:"POST",data:t,processData:!1,contentType:!1,dataType:"json",error:function(t){},success:function(t){var e=$("."+n.options.RESULT_CLASS);if(e.empty(),t.result.length>0)for(var o=0,a=t.result.length-1;o<=a;o++){var r=t.result[o];e.append(`<a href="${r.link}" class="middle-header-search__item">\n                                <span class="middle-header-search__name">${r.name.replace(new RegExp(t.query,"gi"),"<b>"+t.query+"</b>")}</span>                                    \n                            </a>`)}else e.append("").show()},complete:function(t){}})})}(window);